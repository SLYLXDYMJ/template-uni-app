## comp-auth
> 用于小程序必须登录后，才能继续的操作。

### 常见场景
小程序是可以静默登录的，但是这样只能获取到 openId，
像手机号、unionId、微信昵称等这些信息都无法获取，
要想获取只能通过指定 button 按钮的 open-type，
再通过事件，获得密文参数，解密获得（通常为服务器端解密）。

微信不允许一上来就是登录页面，否则审核不太好通过，
官方宣称，必须让用户了解项目后，引导用户点击按钮，进行授权获取用户信息。

所以通常登录，都是引导用户点击按钮授权获取手机号，
用手机号作为用户名，进行登录
这就是这个组件的创造场景了。

```vue
<template>
  <view>
    <!-- 若已登录，则会直接调用 addCarts 方法 -->
    <!-- 若未登录，则会再其内部实现登录逻辑（获取用户信息/手机号）后，调用 addCarts 方法 -->
    <comp-auth @click="addCarts">
      <text>添加购物车</text>
    </comp-auth>
  </view>
</template>
```